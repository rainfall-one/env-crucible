name: Check for push valid push events
on: 
  push:   
    branches: [ "main" ]
    paths:
      - '**.yml'
      - '!*scheduled*.yml'
      - 'Dockerfile'
  pull_request:
    branches: ["main"]
    paths: 
      - '**.yml'
      - '!*scheduled*.yml'
      - 'Dockerfile'

jobs:
  call-publisher-flow:
    permissions:
      contents: read
      packages: write
    uses: ./.github/workflows/publish.yml
    secrets: inherit