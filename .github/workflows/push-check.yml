name: Check for push valid push events
on: 
  push:   
    branches: [ "main" ]
    paths:
      - '**.yml'
      - 'Dockerfile'
  pull_request:
    branches: ["main"]
    paths: 
      - '**.yml'
      - 'Dockerfile'

jobs:
  call-publisher-flow:
    runs-on: ubuntu-latest
    steps:
      - name: Call publisher
        uses: ./.github/workflows/publish.yml
        secrets: inherit